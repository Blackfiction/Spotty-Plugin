[% PROCESS settings/header.html %]
	[% title = "PLUGIN_SPOTTY" %]
	<style>
		<!-- div.spotty-instructions {
			margin: 10px;
			line-height: 150%;
		}

		ol.spotty {
			list-style-type: decimal;
			list-style-position: inside;
		}
		-->
	</style>

	[% WRAPPER setting title="Spotify Cache Folder" desc="" %]
		[% IF spotifyFiles.size == 1 %]
			A cached playlist hierarchy was found on your system.
		[% ELSIF spotifyFiles.size %]
			[% spotifyFiles.size %] cached playlist hierarchies were found on your system.
		[% ELSE %]
			No Spotify cache folder was found on your system.
		[% END %]
	[% END %]

	[% WRAPPER setting title="Imported Playlist Hierarchy Files" desc="" %]
		Sometimes Spotty cannot find playlist hierarchy information automatically.
		This typically is the case when Logitech Media Server is running on a system where no Spotify application is installed.
		In this case you can import the information from a computer where you do run Spotify.
		<br/><br/>
		In order to transfer the playlist hierarchy information, please follow these steps:
		<div class='spotty-instructions'>
			<ol class="spotty">
				<li>Download <a href="http://www.herger.net/spotty/findSpotifyFolderFiles.sh.zip" target="_blank">this script for
						Linux/macOS/Unix</a>, or <a href="http://www.herger.net/spotty/findSpotifyFolderFiles.zip" target="_blank">this
						script for Windows</a> to the computer where you have Spotify installed.</li>
				<li>Extract the downloaded files. On Linux/macOS/Unix run <code>chmod a+x findSpotifyFolderFiles.sh</code> from the
					download folder to make the script executable</li>
				<li>Run the tool with your Logitech Media Server's IP and Port: eg. <code>./findSpotifyFolderFiles.sh 192.168.0.1:9000</code> (Linux/macOS/Unix),
					or <code>findSpotifyFolderFiles.exe 192.168.0.1:9000</code> (Windows)</li>
			</ol>
		</div>
		<div>In the success case you'd get a list of file names that got imported. Otherwise some error message.</div>
		<br/>
	[% END %]

	[% WRAPPER setting title="" desc="" %]
		[% IF spotifyFiles.size %]
			<div>Please select the file(s) you want to delete:</div>
			[% PROCESS "plugins/Spotty/settings/playlist-folders-list.html" %]
		[% ELSE %]
			No playlist hierarchy file was imported.
		[% END %]
	[% END %]

	</form>

	[% WRAPPER setting title="Upload Playlist Hierarchy File" desc="" %]
		If above method failed to transfer the playlist hierarchy information file, you can upload it manually:<br>
		<form method="post" enctype="multipart/form-data" action="/plugins/spotty/uploadPlaylistFolderData">
			<div class="spotty-instructions">
				<input type="file" name="uploadPlaylistFolderFile"><br>
				<input type="submit" name="uploadDatFile" value="Upload file">
				<input type="hidden" name="uploadFromSettings" value=1>
			</div>
	[% END %]

	[% IF uploadError; WRAPPER setting title="" desc="" %]
		<span style="color: red">[% uploadError %]</span>
	[% END; END %]

[% PROCESS settings/footer.html %]
